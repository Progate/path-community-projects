# 解説

## 解答例

### 解答コード例

#### メールアドレスとして正しいかチェックしてみよう

<details><summary>src/is_valid_email.ts</summary>

```ts
export const isValidEmail = (email: string): boolean => {
  const regex = /^[a-zA-Z0-9._+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
  return regex.test(email);
};
```

</details>

#### 正しい英文かどうかチェックしてみよう

<details><summary>src/is_english_phrase.ts</summary>

```ts
export const isEnglishPhrase = (phrase: string): boolean => {
  const regex = /^([A-Z|a-z|0-9|']+\s)*[A-Z|a-z|0-9|']+[.|!|?]$/;
  return regex.test(phrase);
};
```

</details>

#### 正しい URL かどうかチェックしてみよう

<details><summary>src/is_valid_url.ts</summary>

```ts
export const isValidUrl = (url: string): boolean => {
  const regex = /^(https?):\/\/[^\s/$.?#].[^\s]*$/;
  return regex.test(url);
};
```

</details>

#### 画像のファイル名として正しいかチェックしてみよう

<details><summary>src/is_image_file.ts</summary>

```ts
export const isImageFile = (fileName: string): boolean => {
  const regex = /^.+\.(png|jpeg|jpg)$/;
  return regex.test(fileName);
};
```

</details>

## 解答までの流れ

ここでは、上記の解答に至るまでの流れについて解説します。

自分の解き方と比べて、振り返ってみましょう。

### メールアドレスとして正しいかチェックしてみよう

#### メールアドレスの基本的な形

メールアドレスは、`{名前}@{ドメイン名}.{トップレベルドメイン}` の形になっています。

- `名前`：メールアドレスの前半部分。アルファベット、数字、ドット(`.`)、アンダーバー(`_`)、プラス(`+`)、ハイフン(`-`) などが使えます
- `@`：メールアドレスの中心にある記号
- `ドメイン名`：メールアドレスの後半の前部分。アルファベット、数字、ドット、ハイフンが使えます
- `トップレベルドメイン`：`.com` や `.jp` のような部分。通常、2〜6文字の間でアルファベットのみから成る

#### 正規表現のパーツ解説

```ts
/^[a-zA-Z0-9._+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/
```

1. `^`: 文字列の始まりを意味します
2. `[a-zA-Z0-9._+-]+`: `名前` に使える文字を表現しています。`+` は、その前の文字が1回以上続くことを示します
3. `@`: `@` 記号を意味します
4. `[a-zA-Z0-9.-]+`: `ドメイン名` に使える文字を表現しています
5. `\.`: ドット(`.`)を意味します。`\` は、`.` が特別な意味を持つのを防ぐために使います
6. `[a-zA-Z]{2,6}`: `トップレベルドメイン` を表現しています。`{2,6}` は、2 〜 6 文字の間であることを示しています
7. `$`: 文字列の終わりを意味します

これらのパーツを組み合わせることで、`tanaka@example.com` は正しいメールアドレスとして認識され、`tanaka.example` は認識されないようになります。

### 正しい英文かどうかチェックしてみよう

- 英文を「[単語+空白] *n + 単語 (+ 記号)」として考える

`This is a Progate.`という例文を考えます。

このとき、`This`、`is`、`a` の3つは「単語+空白」というパターンを持ってることがわかります。

これを正規表現で表すと、以下のようになります。

```text
^([A-Z|a-z|0-9|']+\s)*
```

1 単語が `[A-Z|a-z|0-9|']+` に相当します。

- 最後の単語と記号を認識

あとは、文末が `.`, `!`, `?` のいずれかで終わっているかをチェックします。

```text
[A-Z|a-z|0-9|']+[.|!|?]$
```

この 2 つを結合することで、答えが得られます。

```text
^([A-Z|a-z|0-9|']+\s)*[A-Z|a-z|0-9|']+[.|!|?]$
```

### 正しい URL かどうかチェックしてみよう

#### URL の基本的な形

一般的な URL は、例えば `https://www.example.com/page` のようになっています。これは以下のような要素に分解できます。

- `https://`：プロトコル。ウェブページを取得する方法を示しています
- `www.example.com`：ドメイン。ウェブページの場所を示しています
- `/page`：パス。ウェブサイト内の特定のページやリソースを示しています

#### 正規表現のパーツ解説

```ts
/^(https?):\/\/[^\s/$.?#].[^\s]*$/
```

1. `^`: 文字列の始まりを意味します
2. `(https?)`: `http` または `https` のどちらかを意味します。`s?` は、`s` があってもなくても良いという意味です
3. `:\/\/`: `://` という文字列を意味します。`\` は特殊文字の意味をエスケープするために使います
4. `[^\s/$.?#].`: URL の中で最初の部分（ドメインの前の部分）を意味します。特定の文字を除外するための記法です
5. `[^\s]*`: スペース以外の任意の文字が続くことを意味します。これは、URL の残りの部分をキャッチします
6. `$`: 文字列の終わりを意味します

この正規表現を使用すると、文字列がURLの形式に従っているかどうかを簡単に確認できます。この方法で、`https://example.com` や `http://example.com/path` は正しい URL として認識され、`example` などは認識されません。

### 画像のファイル名として正しいかチェックしてみよう

#### 画像のファイル名の基本的な形

正しい画像のファイル名は、例えば `image.png` のようになっています。これは以下のような要素に分解できます。

- `image`：ファイル名。画像の名前を示しています
- `.png`：拡張子。ファイルの種類を示しています

#### 正規表現のパーツ解説

```ts
/^.+\.(png|jpeg|jpg)$/
```

- `^`: 文字列の先頭を意味します
- `.+`: 1 つ以上の任意の文字を意味します
  - `.`: 任意の一文字を意味します
  - `+`: 直前の文字が 1 回以上繰り返されることを示します
- `\.`: ピリオド`.`を表します。`.` は正規表現では特別な意味を持つため、文字としてのピリオドをマッチさせたい場合は `\` でエスケープする必要があります
- `(png|jpeg|jpg)`: キャプチャグループを表し、3 つの選択肢のいずれかにマッチすることを示します
  - `|`: "または"を意味する OR 演算子です
  - `png`, `jpeg`, `jpg`: マッチさせたい文字列のいずれかです
- `$`: この記号は文字列の末尾を意味します

したがって、この正規表現は「 1 つ以上の任意の文字に続いて`.png`、`.jpeg`、または`.jpg`で終わる文字列」にマッチします。
